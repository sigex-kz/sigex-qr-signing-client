<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>QRSigningClientCMS - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="QRSigningClientCMS.html">QRSigningClientCMS</a><ul class='methods'><li data-type='method'><a href="QRSigningClientCMS.html#addDataToSign">addDataToSign</a></li><li data-type='method'><a href="QRSigningClientCMS.html#getEGovBusinessLaunchLink">getEGovBusinessLaunchLink</a></li><li data-type='method'><a href="QRSigningClientCMS.html#getEGovMobileLaunchLink">getEGovMobileLaunchLink</a></li><li data-type='method'><a href="QRSigningClientCMS.html#getQR">getQR</a></li><li data-type='method'><a href="QRSigningClientCMS.html#getSignatures">getSignatures</a></li><li data-type='method'><a href="QRSigningClientCMS.html#registerQRSinging">registerQRSinging</a></li></ul></li><li><a href="QRSigningError.html">QRSigningError</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">QRSigningClientCMS</h1>
    

    




<section>

<header>
    
        <h2>
        
            QRSigningClientCMS
        
        </h2>
        
            <div class="class-description usertext">Класс клиента подписания через QR для произвольных данных (формирует CMS подписи).</div>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="QRSigningClientCMS"><span class="type-signature"></span>new QRSigningClientCMS<span class="signature">(description, attach<span class="signature-attributes">opt</span>, baseUrl<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Конструктор.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sigex-qr-signing-client.js.html">sigex-qr-signing-client.js</a>, <a href="sigex-qr-signing-client.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>description</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">описание подписываемых данных.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attach</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>false</code>
                
                </td>
            

            <td class="description last">следует ли включить в подпись подписываемые данные.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>baseUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'https://sigex.kz'</code>
                
                </td>
            

            <td class="description last">базовый URL сервиса SIGEX.</td>
        </tr>

    
    </tbody>
</table>



















        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="addDataToSign"><span class="type-signature type-signature-async">(async) </span>addDataToSign<span class="signature">(names, data, meta<span class="signature-attributes">opt</span>, isPDF<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Добавить блок данных для подписания, зачастую речь идет о файле.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sigex-qr-signing-client.js.html">sigex-qr-signing-client.js</a>, <a href="sigex-qr-signing-client.js.html#line60">line 60</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>names</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;String></span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">массив имен подписываемого блока данных на разных языках
[ru, kk, en]. Массив должен сожердать как минимум одну строку, в этом случае она будет
использоваться для всех языков.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">ArrayBuffer</span>
|

<span class="param-type">Blob</span>
|

<span class="param-type">File</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">данные, которые нужно подписать,
в виде строки Base64 либо ArrayBuffer, Blob или File.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>meta</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Object></span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>[]</code>
                
                </td>
            

            <td class="description last">опциональный массив объектов метаданных, содержащих поля
`"name"` и `"value"` со строковыми значениями.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isPDF</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>false</code>
                
                </td>
            

            <td class="description last">опциональная подсказка для приложения eGov mobile помогающая
ему лучше подобрать приложение для отображения данных перед подписанием.</td>
        </tr>

    
    </tbody>
</table>














<h5 class="h5-throws">Throws:</h5>

        

    <div class="param-desc usertext">
    
        QRSigningError
    
    </div>


    





        
            

    

    <h4 class="name" id="getEGovBusinessLaunchLink"><span class="type-signature"></span>getEGovBusinessLaunchLink<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Получить ссылку для запуска процедуры подписания в eGov Business (кросс подписание)
- для тех случаев, когда нужно выполнять подписание на том же самом устройстве, без
необходимости сканировать QR код (необходимо предварительно выполнить регистрацию).</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sigex-qr-signing-client.js.html">sigex-qr-signing-client.js</a>, <a href="sigex-qr-signing-client.js.html#line163">line 163</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    ссылка для запуска процедуры подписания в eGov Business.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getEGovMobileLaunchLink"><span class="type-signature"></span>getEGovMobileLaunchLink<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Получить ссылку для запуска процедуры подписания в eGov mobile (кросс подписание)
- для тех случаев, когда нужно выполнять подписание на том же самом устройстве, без
необходимости сканировать QR код (необходимо предварительно выполнить регистрацию).</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sigex-qr-signing-client.js.html">sigex-qr-signing-client.js</a>, <a href="sigex-qr-signing-client.js.html#line152">line 152</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    ссылка для запуска процедуры подписания в eGov mobile.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getQR"><span class="type-signature"></span>getQR<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Получить QR код (необходимо предварительно выполнить регистрацию).</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sigex-qr-signing-client.js.html">sigex-qr-signing-client.js</a>, <a href="sigex-qr-signing-client.js.html#line141">line 141</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



























<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    изображение QR кода в Base64 кодировке.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getSignatures"><span class="type-signature type-signature-async">(async) </span>getSignatures<span class="signature">(dataSentCallback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;String>>}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Получить подписи под данными. Это может занять много времени, так как в
процессе выполнения данные будут отправлены в eGov mobile, далее нужно
будет дождаться пока пользователь подпишет данные и подписи будут выкачены
обратно.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sigex-qr-signing-client.js.html">sigex-qr-signing-client.js</a>, <a href="sigex-qr-signing-client.js.html#line181">line 181</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataSentCallback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">опциональная функция, которая будет вызвана после
того, как данные для подписания будут переданы на сервер. Может быть использована для
того, чтобы перестать отображать QR код, так как он больше не действителен.</td>
        </tr>

    
    </tbody>
</table>














<h5 class="h5-throws">Throws:</h5>

        

    <div class="param-desc usertext">
    
        QRSigningError
    
    </div>


    


<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    массив подписей под зарегистрированными блоками данных.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;String>></span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="registerQRSinging"><span class="type-signature type-signature-async">(async) </span>registerQRSinging<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;String>}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Зарегистрировать процедуру QR подписания.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sigex-qr-signing-client.js.html">sigex-qr-signing-client.js</a>, <a href="sigex-qr-signing-client.js.html#line99">line 99</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>

























<h5 class="h5-throws">Throws:</h5>

        

    <div class="param-desc usertext">
    
        QRSigningError
    
    </div>


    


<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    изображение QR кода в Base64 кодировке.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;String></span>



    </dd>
</dl>

    



        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Fri Feb 02 2024 11:23:07 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>